<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <title>Ship Game</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="game-container">
    <canvas id="game-canvas"></canvas>
    <div id="ui-overlay">
      <div id="hud-top">
        <div id="health-bar-container">
          <span class="bar-label">HP</span>
          <div class="bar-outer"><div id="health-bar" class="bar-inner health"></div></div>
        </div>
        <div id="shield-bar-container">
          <span class="bar-label">SH</span>
          <div class="bar-outer"><div id="shield-bar" class="bar-inner shield"></div></div>
        </div>
        <div id="xp-bar-container">
          <span class="bar-label">XP</span>
          <div class="bar-outer"><div id="xp-bar" class="bar-inner xp"></div></div>
        </div>
        <div id="overheat-bar-container">
          <span class="bar-label">OH</span>
          <div class="bar-outer"><div id="overheat-bar" class="bar-inner overheat"></div></div>
        </div>
        <div id="level-display">Lv 1</div>
        <div id="coords-display">X: 0 &nbsp; Y: 0</div>
        <div id="kills-display">☠ 0</div>
        <div id="zone-display">⬡ Spawn Zone</div>
      </div>
      <div id="crafting-panel" class="hidden">
        <h2>Crafting</h2>
        <div id="crafting-inventory"></div>
        <hr />
        <div id="crafting-recipes"></div>
        <button id="close-crafting">Close [C]</button>
      </div>

      <div id="ship-editor-panel" class="hidden">
        <h2>Ship Builder</h2>
        <div class="editor-subtitle">Drag module blocks onto the grid. Front faces up.</div>
        <div class="editor-layout">
          <div class="editor-palette-window">
            <h3 class="editor-section-title">Module Palette</h3>
            <div id="ship-editor-palette"></div>
            <button id="open-crafting-from-editor">Crafting</button>
          </div>
          <div class="editor-grid-window">
            <button id="ship-stats-toggle">Ship Stats ▼</button>
            <div id="ship-editor-stats-overlay" class="hidden">
              <div id="ship-editor-stats"></div>
            </div>
            <div id="ship-editor-grid"></div>
            <div class="editor-actions">
              <button id="confirm-ship-editor">Confirm Layout</button>
              <button id="close-ship-editor">Close [C]</button>
            </div>
          </div>
        </div>
        <div id="ship-editor-save-confirm" class="hidden">
          <div class="save-confirm-title">Save Changes to Ship?</div>
          <div class="save-confirm-actions">
            <button id="ship-editor-discard-btn">✖ No [X]</button>
            <button id="ship-editor-save-btn">✔ Yes [C]</button>
          </div>
        </div>
      </div>
      <div id="settings-panel" class="hidden">
        <h2>Settings</h2>
        <div class="settings-row">
          <div class="settings-label">
            <span class="settings-name">Advanced Movement</span>
            <span class="settings-desc">W moves toward mouse cursor; WASD relative to ship orientation</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="setting-adv-movement" />
            <span class="toggle-slider"></span>
          </label>
        </div>
        <button id="close-settings">Close [Tab]</button>
      </div>
      <div id="toolbar-container">
        <div id="toolbar"></div>
        <div id="toolbar-hint">Scroll or 1–8 to select &nbsp;|&nbsp; C: Ship Builder &nbsp;|&nbsp; ESC: Pause &nbsp;|&nbsp; Tab: Settings &nbsp;|&nbsp; Left-click: Fire &nbsp;|&nbsp; Right-click: Place Block</div>
      </div>

      <!-- Mobile-only controls (shown via JS when touch device detected) -->
      <div id="mobile-controls" class="hidden">
        <button id="mobile-ship-builder-btn" class="mobile-corner-btn mobile-top-left">⚙ Ship</button>
        <button id="mobile-settings-btn" class="mobile-corner-btn mobile-top-right">☰</button>
        <div id="mobile-left-joystick" class="mobile-joystick">
          <div id="mobile-left-knob" class="mobile-joystick-knob"></div>
        </div>
        <div id="mobile-right-joystick" class="mobile-joystick">
          <div id="mobile-right-knob" class="mobile-joystick-knob"></div>
        </div>
      </div>
    </div>
  </div>
  <script src="dist/bundle.js"></script>
</body>
</html>
